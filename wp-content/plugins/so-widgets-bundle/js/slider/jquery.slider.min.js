var sowb=window.sowb||{};sowb.SiteOriginSlider=function(e){return{playSlideVideo:function(i){e(i).find("video").each((function(){void 0!==this.play&&this.play()}));var t=e(i).find("iframe");t.length&&(t[0].contentWindow.postMessage('{"method":"play"}',"*"),t[0].contentWindow.postMessage('{"event":"command","func":"playVideo","args":""}',"*"))},pauseSlideVideo:function(i){e(i).find("video").each((function(){void 0!==this.pause&&this.pause()}));var t=e(i).find("iframe");t.length&&(t[0].contentWindow.postMessage('{"method":"pause"}',"*"),t[0].contentWindow.postMessage('{"event":"command","func":"pauseVideo","args":""}',"*"))},enableBackground:function(e,i){e.css("background-image",i),e.removeAttr("data-background")},setupActiveSlide:function(i,t,s){var a=e(i).find(".cycle-sentinel"),n=e(t),o=n.find("video.sow-background-element"),d=e(i).prev(),l=n.attr("data-background");void 0!==l&&this.enableBackground(n,l);var r=n.find(".sow-slider-image-overlay");if(r){var c=r.attr("data-background");void 0!==c&&this.enableBackground(r,c)}if(void 0===s?a.css("height",n.outerHeight()+"px"):a.animate({height:n.outerHeight()},s),d.length){var u;e(i).find(".sow-slider-image > video").prop("muted",!0);var w=e(i).find(".sow-slide-video-oembed iframe");if((u=w.length?w:n.find("> video")).length){d.clearQueue().fadeIn(s);var f=d.siblings(".sow-slider-images").data("settings");u.hasClass("sow-player-unmuted")?(w.length?w.contentWindow.postMessage('{"event":"command","func":"unMute","args":""}',"*"):u.prop("muted",!1),d.addClass("sow-player-unmuted"),d.attr("aria-label",f.muteLoc)):(d.removeClass("sow-player-unmuted"),d.attr("aria-label",f.unmuteLoc))}else d.clearQueue().fadeOut(s)}o.length&&(n.outerWidth()/n.outerHeight()>o.outerWidth()/o.outerHeight()?o.css({width:"100%",height:"auto"}):o.css({width:"auto",height:"100%"}),o.css({"margin-left":-Math.ceil(o.width()/2),"margin-top":-Math.ceil(o.height()/2)}))}}},jQuery((function(e){sowb.setupSliders=sowb.setupSlider=function(){var i=new sowb.SiteOriginSlider(e);e(".sow-slider-images").each((function(){var t=e(this);if(t.data("initialized"))return t;var s=t.siblings(".sow-slider-pagination"),a=t.closest(".sow-slider-base"),n=a.find(".sow-slide-nav"),o=t.find(".sow-slider-image"),d=t.data("settings");d.breakpoint&&e(window).on("load resize",(function(){window.matchMedia("(max-width: "+d.breakpoint+")").matches?a.addClass("sow-slider-is-mobile"):a.removeClass("sow-slider-is-mobile")})),o.each((function(i,t){var s=e(t),a=s.data("url");void 0!==a&&a.hasOwnProperty("url")&&(s.on("click",(function(e){e.preventDefault(),window.open(a.url,a.hasOwnProperty("new_window")&&a.new_window?"_blank":"_self").opener=null})),s.find("a").on("click",(function(e){e.stopPropagation()})))}));var l=function(){var r=t.closest(".so-widget-fittext-wrapper");if(r.length>0&&!r.data("fitTextDone"))r.on("fitTextDone",(function(){l()}));else{var c=t.find(".sow-slider-image-parallax[data-siteorigin-parallax]").length,u=!1;if(!c){var w=t.find(".sow-slider-image-parallax:not([data-siteorigin-parallax])");!w.length||"undefined"==typeof parallaxStyles||parallaxStyles["disable-parallax-mobile"]&&window.matchMedia("(max-width: "+parallaxStyles["mobile-breakpoint"]+")").matches||(u=!0,a.css("opacity",0))}a.show();var f=function(){t.find(".sow-slider-image").each((function(){var i=e(this);i.css("height",i.find(".sow-slider-image-wrapper").outerHeight()+"px")}))};if(e(window).on("resize panelsStretchRows",f).trigger("resize"),e(sowb).on("setup_widgets",f),!c&&u){if(!w.find(".simpleParallax").length)return void setTimeout(l,50);window.dispatchEvent(new Event("resize")),setTimeout((function(){a.css("opacity",1)}),425)}if(t.trigger("slider_setup_before"),t.on({"cycle-after":function(t,s,a,n,o){var d=e(this);i.playSlideVideo(n),i.setupActiveSlide(d,n),e(n).trigger("sowSlideCycleAfter")},"cycle-before":function(t,a,n,o,d){var l=e(this);s.find("> li").removeClass("sow-active").eq(a.slideNum-1).addClass("sow-active"),i.pauseSlideVideo(n),i.setupActiveSlide(l,o,a.speed),e(o).trigger("sowSlideCycleBefore")},"cycle-initialized":function(a,o){i.playSlideVideo(e(this).find(".cycle-slide-active")),i.setupActiveSlide(t,o.slides[0]),s.find(">li").removeClass("sow-active").eq(0).addClass("sow-active"),e(this).find(".cycle-slide-active").trigger("sowSlideInitial"),o.slideCount<=1&&(s.hide(),n.hide()),e(window).trigger("resize"),setTimeout((function(){f(),i.setupActiveSlide(t,o.slides[0]),t.find(".cycle-sentinel").empty()}),200)}}).cycle({slides:"> .sow-slider-image",speed:d.speed,timeout:d.timeout,swipe:d.swipe,paused:d.paused,pauseOnHover:d.pause_on_hover,"swipe-fx":"scrollHorz",log:!1}),t.find("video.sow-background-element").on("loadeddata",(function(){i.setupActiveSlide(t,t.find(".cycle-slide-active"))})),s.add(n).hide(),o.length>1)if(a.hasClass("sow-slider-is-mobile"))d.nav_always_show_mobile&&window.matchMedia("(max-width: "+d.breakpoint+")").matches&&(s.show(),n.show());else if(d.nav_always_show_desktop&&window.matchMedia("(min-width: "+d.breakpoint+")").matches)s.show(),n.show();else{var p=!1;a.on("mouseenter",(function(){s.add(n).clearQueue().fadeIn(150),p=!1})).on("mouseleave",(function(){p=!0,setTimeout((function(){p&&s.add(n).clearQueue().fadeOut(150),p=!1}),750)}))}var g=function(){i.setupActiveSlide(t,t.find(".cycle-slide-active"))};e(window).on("resize",g),e(sowb).on("setup_widgets",g),s.find("> li > a").on("click",(function(i){i.preventDefault(),t.cycle("goto",e(this).data("goto"))})),n.find("> a").on("click",(function(i){i.preventDefault(),t.cycle(e(this).data("action"))})),a.on("keyup",(function(e){if("ArrowLeft"===e.key)t.cycle("prev");else{if("ArrowRight"!==e.key)return;t.cycle("next")}a.trigger("focus")})),d.unmute&&a.find(".sow-player-controls-sound").on("click",(function(){var i,t=e(this),s=t.next().find(".cycle-slide-active .sow-slide-video-oembed iframe");i=s.length?s:t.next().find(".cycle-slide-active > video"),t.hasClass("sow-player-unmuted")?(t.removeClass("sow-player-unmuted"),i.removeClass("sow-player-muted"),t.attr("aria-label",d.unmuteLoc),s.length?s[0].contentWindow.postMessage('{"event":"command","func":"mute","args":""}',"*"):i.prop("muted",!0)):(t.addClass("sow-player-unmuted"),i.addClass("sow-player-unmuted"),t.attr("aria-label",d.muteLoc),s.length?s[0].contentWindow.postMessage('{"event":"command","func":"unMute","args":""}',"*"):i.prop("muted",!1))}))}};t.trigger("slider_setup_after"),l(),"function"==typeof e.fn.fitVids&&t.find(".sow-slide-video-oembed").fitVids(),t.data("initialized",!0)}))},sowb.setupSliders(),e(sowb).on("setup_widgets",sowb.setupSliders)})),window.sowb=sowb;