jQuery(function(r){r(".woocommerce-ordering select").each(function(){var e=r(this);if(r("body").hasClass("rtl"))var t=r("<div></div>").html('<span class="current">'+e.find(":selected").html()+'</span><span class="north-icon-previous"></span>').addClass("ordering-selector-wrapper").insertAfter(e);else t=r("<div></div>").html('<span class="current">'+e.find(":selected").html()+'</span><span class="north-icon-next"></span>').addClass("ordering-selector-wrapper").insertAfter(e);var n=r("<div/>").addClass("ordering-dropdown-container").appendTo(t),o=r("<ul></ul>").addClass("ordering-dropdown").appendTo(n),i=0;e.find("option").each(function(){var n=r(this);o.append(r("<li></li>").html(n.html()).data("val",n.attr("value")).on("click",function(){e.val(r(this).data("val")),e.closest("form").trigger("submit")})),i=Math.max(t.find(".current").html(n.html()).width(),i)}),t.find(".current").html(e.find(":selected").html()).width(i),e.hide()}),r(".ordering-selector-wrapper").on("click",function(){r(this).toggleClass("open-dropdown")}),r(window).on("click",function(n){r(n.target).closest(".ordering-selector-wrapper.open-dropdown").length||r(".ordering-selector-wrapper.open-dropdown").removeClass("open-dropdown")}),r(".product-quick-view-button").on("click",function(n){n.preventDefault();var t="#quick-view-container",o="#product-quick-view",e=r(this).attr("data-product-id");r.post(so_ajax.ajaxurl,{action:"so_product_quick_view",product_id:e},function(n){r(document).find(t).find(o).html(n)}),r(document).find(t).is(":hidden")&&r(document).find(t).find(o).empty(),r(document).find(t).fadeIn(300),r(window).on("mouseup",function(n){var e=r(o);(!e.is(n.target)&&0===e.has(n.target).length||r(".quickview-close-icon").is(n.target))&&r(t).fadeOut(300)}),r(document).on("keyup",function(n){r(o);27==n.keyCode&&r(t).fadeOut(300)})})});